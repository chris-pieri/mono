<div class="flex flex-col items-center justify-center min-h-screen bg-base-200">
  <lib-button
    (clicked)="goBack()"
    class="mb-4"
    variant="outline"
    color="secondary"
  >
    <ng-container icon-left>&larr;</ng-container>
    Back
  </lib-button>

  <lib-card
    title="Sign In"
    description="Welcome back! Please sign in to your account."
  >
    <form
      [formGroup]="signInForm"
      (ngSubmit)="onSignIn()"
      class="flex flex-col gap-4"
    >
      <lib-input
        formControlName="email"
        label="Email"
        type="email"
        placeholder="Enter your email"
        [note]="
          signInForm.controls.email.touched &&
          signInForm.controls.email.invalid
            ? 'Please enter a valid email address'
            : ''
        "
      />

      <lib-input
        formControlName="password"
        label="Password"
        type="password"
        placeholder="Enter your password"
        [note]="
          signInForm.controls.password.touched &&
          signInForm.controls.password.invalid
            ? 'Password must be at least 8 characters'
            : ''
        "
      />

      @if (errorMessage()) {
      <div class="alert alert-error">
        <span>{{ errorMessage() }}</span>
      </div>
      }

      <div card-actions class="justify-end mt-4">
        <lib-button type="submit" color="primary" [disabled]="isLoading()">
          @if (isLoading()) {
          <span class="loading loading-spinner loading-sm"></span>
          Signing in... } @else { Sign In }
        </lib-button>
      </div>
    </form>
  </lib-card>
</div>
